<!--

	Projeto I
	Aluno: Edson Lemes
	Tópicos em programação Web.
	 
	Descrição geral da página
	
	Formulário simples de login no sistema, as informações são encaminhadas
	por um script ajax e processadas no servidor, deste modo o feedback é retornado
	ao usuário através da mesma página. Também possui recursos de acessibilidade, tais 
	como 'roles', menu, etc. 


-->


<!DOCTYPE html>
<html >
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
  		<meta charset="UTF-8">
  		<title>Faça o login</title>
  
 
		<link href="css/bootstrap.min.css" rel="stylesheet">
 		<!--   <link href="css/bootstrap-theme.min.css" rel="stylesheet" media="screen"> -->
     	<link href="css/font-awesome.min.css" rel="stylesheet">
    
    	<!-- Estilo para deixar fundo transparente-->
	   <link href="css/main.css" rel="stylesheet">
     	<link rel="stylesheet" type="text/css" href="css/style1.css" />
     	<link rel="stylesheet" type="text/css" href="css/login-form.css" />
     	<link rel="stylesshet" type="text/css" href="css/accessibility.css" />
    
    	<!-- Funções de script-->
    	<script src='js/jquery.js'></script>
  		<script src="js/bootstrap.min.js"></script>
		<script>
	
			function do_login(){

 				var email=$("#user_email").val();
 				var pass=$("#password").val();
 				if(email!="" && pass!=""){
					$.ajax({
  						type:'post',
  							url:'serverside/loginapr.php',
  						data:{
   						do_login:"do_login",
   						email:email,
   						password:pass
  						},
  						success:function(response) {
  							if(response=="success"){
  	  							$("#ok").fadeIn(500);
  	   						setTimeout(function () {
  	   							window.location.href="cliente.html";
  	   						}, 2000);
  	  						}
  							else{
	 							$("#error").fadeIn(1500);    
    							$("#error").fadeOut(500);
    						}
  						}
  					});
 				}

 				else{
  					alert("Faltam detalhes");
 				}

 				return false;
			}
		</script>

	</head>

	<body>
		<div class="container"> 
			<div class="row">
				<div class="col-xs-12 col-sm-12">
        			<!-- Lista usada para a barra de acessibilidade -->
	      		<ul id="accessibility">
            		<li>
                		<a accesskey="1" href="#navbar">
                   		Ir para o conteúdo
                    		<span>1</span>
                		</a>
            		</li>
            		<li>
                		<a accesskey="2" href="#formcad">
                   		Ir para o formulário
                   		<span>2</span>
                		</a>
            		</li>
            	
        			</ul>
        		</div>
        		<!-- Menu semelhante as outras páginas -->
				<div class="col-sm-12 col-xs-12">
					<div id="navbar" class="navbar navbar-default" role="banner">
                	<div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse" role="button">
                        <span class="sr-only">Menu de navegação </span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html"></a>
                	</div>
                	<div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="#main-slider" role="button"><i class="icon-home"></i></a></li>
                        <li><a href="index.html" role="button">Página inicial</a></li>
                        <li><a href="carros.html" role="button">Veículos</a></li>
                        <li><a href="cadastro.html" role="button">Cadastro</a></li>
                        
                    </ul>
                	</div>
            	</div>
        		</div> <div id="bg"></div>
        	</div>
        	<!--Formulário de login simples, apenas para validar as informações pessoais.
				 Por ser um formulário pequeno, não precisa ser adaptado pois funciona nos quatro
				 modelos da mesma forma.
				 Acessibilidade: os botoẽs de input, as imagens e alertas foram devidamente identificados,
				 assim com os 'h'.        	
        	
        	 -->
			<div class="row">
 				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
				<section id="formcad">
					<fieldset>
					<legend><h3 style="text-align:center">Formulário de Login</h3></legend>
					  <form action="" autocomplete="on" role="form" method="post" id="login-form" name="login-form" onsubmit="return do_login();">
    				
  						<label for="username" class="uname sr-only" data-icon="@" > Digite seu Email </label>
  						<input id="user_email" name="user_email" required type="email" placeholder="mymail@mail.com"/>
    					
    					
  						<label for="password" class="youpasswd sr-only" data-icon="#"> Sua Senha</label>
  						<input id="password" name="password" required type="password" placeholder="ex. X8df!90EO" /> 
    					
  						<input type="submit" value="Login" name="fsub" id="fsub" role="button" />
    					

						<div class="alert alert-danger"id="error" hidden="true" role="alert">
							<strong>Login ou senha incorretos.</strong>
						</div>
						<div class="alert alert-info" id="ok" style="text-align:center"  hidden="true" role="alert">
							<img src="images/preload.gif" style="max-width:50px;width:auto" alt="Carregando a área do cliente" role="img">
							<strong>Carregando...</strong>
	
						</div>
					 </form>
				</fieldset>	 
				</section>
				</div>
			</div>
		</div>
	</body>
</html>
